  


<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Coffee-Physics/deploy/physics.min.js at master · soulwire/Coffee-Physics · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png" />
    <link rel="logo" type="image/svg" href="http://github-media-downloads.s3.amazonaws.com/github-logo.svg" />
    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">

    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <meta content="authenticity_token" name="csrf-param" />
<meta content="W4QAWFxEwDFEwkhzrafy2sY5nZPXXhhtHP4bICoAUnc=" name="csrf-token" />

    <link href="https://a248.e.akamai.net/assets.github.com/assets/github-4af97e95c6d3eb9a566ad339560cd70651729a71.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="https://a248.e.akamai.net/assets.github.com/assets/github2-5fee4310cb7130fe9656cf64857b2fa600fbabd7.css" media="screen" rel="stylesheet" type="text/css" />
    


      <script src="https://a248.e.akamai.net/assets.github.com/assets/frameworks-ad1b87fda705d87118448f87fb6a20bdb15bd841.js" type="text/javascript"></script>
      <script src="https://a248.e.akamai.net/assets.github.com/assets/github-e7e0003d4855dbf8850def91b4dd233982197813.js" type="text/javascript"></script>
      
      <meta http-equiv="x-pjax-version" content="8f74e99aef053f323f1d782b4ddea780">

        <link data-pjax-transient rel='permalink' href='/soulwire/Coffee-Physics/blob/b350023803764a61b66283f9e3cf89cd61729dbf/deploy/physics.min.js'>
    <meta property="og:title" content="Coffee-Physics"/>
    <meta property="og:type" content="githubog:gitrepository"/>
    <meta property="og:url" content="https://github.com/soulwire/Coffee-Physics"/>
    <meta property="og:image" content="https://secure.gravatar.com/avatar/dce862b9a968b0b7ccc5ab0ab7e0319a?s=420&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png"/>
    <meta property="og:site_name" content="GitHub"/>
    <meta property="og:description" content="Coffee-Physics - A simple, lightweight physics engine written in CoffeeScript"/>
    <meta property="twitter:card" content="summary"/>
    <meta property="twitter:site" content="@GitHub">
    <meta property="twitter:title" content="soulwire/Coffee-Physics"/>

    <meta name="description" content="Coffee-Physics - A simple, lightweight physics engine written in CoffeeScript" />

  <link href="https://github.com/soulwire/Coffee-Physics/commits/master.atom" rel="alternate" title="Recent Commits to Coffee-Physics:master" type="application/atom+xml" />

  </head>


  <body class="logged_out page-blob windows vis-public env-production  ">
    <div id="wrapper">

      

      

      

      


        <div class="header header-logged-out">
          <div class="container clearfix">

            <a class="header-logo-wordmark" href="https://github.com/">
              <img alt="GitHub" class="github-logo-4x" height="30" src="https://a248.e.akamai.net/assets.github.com/images/modules/header/logov7@4x.png?1338945075" />
              <img alt="GitHub" class="github-logo-4x-hover" height="30" src="https://a248.e.akamai.net/assets.github.com/images/modules/header/logov7@4x-hover.png?1338945075" />
            </a>

              
<ul class="top-nav">
    <li class="explore"><a href="https://github.com/explore">Explore GitHub</a></li>
  <li class="search"><a href="https://github.com/search">Search</a></li>
  <li class="features"><a href="https://github.com/features">Features</a></li>
    <li class="blog"><a href="https://github.com/blog">Blog</a></li>
</ul>


            <div class="header-actions">
                <a class="button primary" href="https://github.com/signup">Sign up for free</a>
              <a class="button" href="https://github.com/login?return_to=%2Fsoulwire%2FCoffee-Physics%2Fblob%2Fmaster%2Fdeploy%2Fphysics.min.js">Sign in</a>
            </div>

          </div>
        </div>


      

      


            <div class="site hfeed" itemscope itemtype="http://schema.org/WebPage">
      <div class="hentry">
        
        <div class="pagehead repohead instapaper_ignore readability-menu ">
          <div class="container">
            <div class="title-actions-bar">
              


<ul class="pagehead-actions">



    <li>
      <a href="/login?return_to=%2Fsoulwire%2FCoffee-Physics"
        class="minibutton js-toggler-target star-button entice tooltipped upwards"
        title="You must be signed in to use this feature" rel="nofollow">
        <span class="mini-icon mini-icon-star"></span>Star
      </a>
      <a class="social-count js-social-count" href="/soulwire/Coffee-Physics/stargazers">
        745
      </a>
    </li>
    <li>
      <a href="/login?return_to=%2Fsoulwire%2FCoffee-Physics"
        class="minibutton js-toggler-target fork-button entice tooltipped upwards"
        title="You must be signed in to fork a repository" rel="nofollow">
        <span class="mini-icon mini-icon-fork"></span>Fork
      </a>
      <a href="/soulwire/Coffee-Physics/network" class="social-count">
        66
      </a>
    </li>
</ul>

              <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
                <span class="repo-label"><span>public</span></span>
                <span class="mega-icon mega-icon-public-repo"></span>
                <span class="author vcard">
                  <a href="/soulwire" class="url fn" itemprop="url" rel="author">
                  <span itemprop="title">soulwire</span>
                  </a></span> /
                <strong><a href="/soulwire/Coffee-Physics" class="js-current-repository">Coffee-Physics</a></strong>
              </h1>
            </div>

            
  <ul class="tabs">
    <li><a href="/soulwire/Coffee-Physics" class="selected" highlight="repo_source repo_downloads repo_commits repo_tags repo_branches">Code</a></li>
    <li><a href="/soulwire/Coffee-Physics/network" highlight="repo_network">Network</a></li>
    <li><a href="/soulwire/Coffee-Physics/pulls" highlight="repo_pulls">Pull Requests <span class='counter'>2</span></a></li>

      <li><a href="/soulwire/Coffee-Physics/issues" highlight="repo_issues">Issues <span class='counter'>7</span></a></li>



    <li><a href="/soulwire/Coffee-Physics/graphs" highlight="repo_graphs repo_contributors">Graphs</a></li>


  </ul>
  
<div class="tabnav">

  <span class="tabnav-right">
    <ul class="tabnav-tabs">
          <li><a href="/soulwire/Coffee-Physics/tags" class="tabnav-tab" highlight="repo_tags">Tags <span class="counter blank">0</span></a></li>
    </ul>
    
  </span>

  <div class="tabnav-widget scope">


    <div class="select-menu js-menu-container js-select-menu js-branch-menu">
      <a class="minibutton select-menu-button js-menu-target" data-hotkey="w" data-ref="master">
        <span class="mini-icon mini-icon-branch"></span>
        <i>branch:</i>
        <span class="js-select-button">master</span>
      </a>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container js-select-menu-pane">

        <div class="select-menu-modal js-select-menu-pane">
          <div class="select-menu-header">
            <span class="select-menu-title">Switch branches/tags</span>
            <span class="mini-icon mini-icon-remove-close js-menu-close"></span>
          </div> <!-- /.select-menu-header -->

          <div class="select-menu-filters">
            <div class="select-menu-text-filter">
              <input type="text" id="commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
            </div>
            <div class="select-menu-tabs">
              <ul>
                <li class="select-menu-tab">
                  <a href="#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
                </li>
                <li class="select-menu-tab">
                  <a href="#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
                </li>
              </ul>
            </div><!-- /.select-menu-tabs -->
          </div><!-- /.select-menu-filters -->

          <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket css-truncate" data-tab-filter="branches" data-filterable-for="commitish-filter-field" data-filterable-type="substring">


              <div class="select-menu-item js-navigation-item js-navigation-target ">
                <span class="select-menu-item-icon mini-icon mini-icon-confirm"></span>
                <a href="/soulwire/Coffee-Physics/blob/gh-pages/deploy/physics.min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="gh-pages" rel="nofollow" title="gh-pages">gh-pages</a>
              </div> <!-- /.select-menu-item -->
              <div class="select-menu-item js-navigation-item js-navigation-target selected">
                <span class="select-menu-item-icon mini-icon mini-icon-confirm"></span>
                <a href="/soulwire/Coffee-Physics/blob/master/deploy/physics.min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="master" rel="nofollow" title="master">master</a>
              </div> <!-- /.select-menu-item -->

              <div class="select-menu-no-results js-not-filterable">Nothing to show</div>
          </div> <!-- /.select-menu-list -->


          <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket css-truncate" data-tab-filter="tags" data-filterable-for="commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-no-results js-not-filterable">Nothing to show</div>

          </div> <!-- /.select-menu-list -->

        </div> <!-- /.select-menu-modal -->
      </div> <!-- /.select-menu-modal-holder -->
    </div> <!-- /.select-menu -->

  </div> <!-- /.scope -->

  <ul class="tabnav-tabs">
    <li><a href="/soulwire/Coffee-Physics" class="selected tabnav-tab" highlight="repo_source">Files</a></li>
    <li><a href="/soulwire/Coffee-Physics/commits/master" class="tabnav-tab" highlight="repo_commits">Commits</a></li>
    <li><a href="/soulwire/Coffee-Physics/branches" class="tabnav-tab" highlight="repo_branches" rel="nofollow">Branches <span class="counter ">2</span></a></li>
  </ul>

</div>

  
  
  


            
          </div>
        </div><!-- /.repohead -->

        <div id="js-repo-pjax-container" class="container context-loader-container" data-pjax-container>
          


<!-- blob contrib key: blob_contributors:v21:caf5bdcddeca484e27808ccf02700141 -->
<!-- blob contrib frag key: views10/v8/blob_contributors:v21:caf5bdcddeca484e27808ccf02700141 -->


<div id="slider">
    <div class="frame-meta">

      <p title="This is a placeholder element" class="js-history-link-replace hidden"></p>

        <div class="breadcrumb">
          <span class='bold'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/soulwire/Coffee-Physics" class="js-slide-to" data-branch="master" data-direction="back" itemscope="url"><span itemprop="title">Coffee-Physics</span></a></span></span><span class="separator"> / </span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/soulwire/Coffee-Physics/tree/master/deploy" class="js-slide-to" data-branch="master" data-direction="back" itemscope="url"><span itemprop="title">deploy</span></a></span><span class="separator"> / </span><strong class="final-path">physics.min.js</strong> <span class="js-zeroclipboard zeroclipboard-button" data-clipboard-text="deploy/physics.min.js" data-copied-hint="copied!" title="copy to clipboard"><span class="mini-icon mini-icon-clipboard"></span></span>
        </div>

      <a href="/soulwire/Coffee-Physics/find/master" class="js-slide-to" data-hotkey="t" style="display:none">Show File Finder</a>


        <div class="commit commit-loader file-history-tease js-deferred-content" data-url="/soulwire/Coffee-Physics/contributors/master/deploy/physics.min.js">
          Fetching contributors…

          <div class="participation">
            <p class="loader-loading"><img alt="Octocat-spinner-32-eaf2f5" height="16" src="https://a248.e.akamai.net/assets.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif?1338945075" width="16" /></p>
            <p class="loader-error">Cannot retrieve contributors at this time</p>
          </div>
        </div>

    </div><!-- ./.frame-meta -->

    <div class="frames">
      <div class="frame" data-permalink-url="/soulwire/Coffee-Physics/blob/b350023803764a61b66283f9e3cf89cd61729dbf/deploy/physics.min.js" data-title="Coffee-Physics/deploy/physics.min.js at master · soulwire/Coffee-Physics · GitHub" data-type="blob">

        <div id="files" class="bubble">
          <div class="file">
            <div class="meta">
              <div class="info">
                <span class="icon"><b class="mini-icon mini-icon-text-file"></b></span>
                <span class="mode" title="File Mode">file</span>
                  <span>1 lines (1 sloc)</span>
                <span>12.064 kb</span>
              </div>
              <div class="actions">
                <div class="button-group">
                      <a class="minibutton js-entice" href=""
                         data-entice="You must be signed in and on a branch to make or propose changes">Edit</a>
                  <a href="/soulwire/Coffee-Physics/raw/master/deploy/physics.min.js" class="button minibutton " id="raw-url">Raw</a>
                    <a href="/soulwire/Coffee-Physics/blame/master/deploy/physics.min.js" class="button minibutton ">Blame</a>
                  <a href="/soulwire/Coffee-Physics/commits/master/deploy/physics.min.js" class="button minibutton " rel="nofollow">History</a>
                </div><!-- /.button-group -->
              </div><!-- /.actions -->

            </div>
                <div class="data type-javascript js-blob-data">
      <table cellpadding="0" cellspacing="0" class="lines">
        <tr>
          <td>
            <pre class="line_numbers"><span id="L1" rel="#L1">1</span>
</pre>
          </td>
          <td width="100%">
                <div class="highlight"><pre><div class='line' id='LC1'>var Attraction,Behaviour,Collision,ConstantForce,EdgeBounce,EdgeWrap,Euler,ImprovedEuler,Integrator,Particle,Physics,Random,Spring,Vector,Verlet,Wander,namespace,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&amp;&amp;(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};namespace=function(id){var path,root,_i,_len,_ref,_ref1,_results;root=self,_ref=id.split(&quot;.&quot;),_results=[];for(_i=0,_len=_ref.length;_i&lt;_len;_i++)path=_ref[_i],_results.push(root=(_ref1=root[path])!=null?_ref1:root[path]={});return _results},function(){var time,vendor,vendors,_i,_len;time=0,vendors=[&quot;ms&quot;,&quot;moz&quot;,&quot;webkit&quot;,&quot;o&quot;];for(_i=0,_len=vendors.length;_i&lt;_len;_i++){vendor=vendors[_i];if(!!window.requestAnimationFrame)continue;window.requestAnimationFrame=window[vendor+&quot;RequestAnimationFrame&quot;],window.cancelRequestAnimationFrame=window[vendor+&quot;CancelRequestAnimationFrame&quot;]}window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var delta,now,old;return now=(new Date).getTime(),delta=Math.max(0,16-(now-old)),setTimeout(function(){return callback(time+delta)},delta),old=now+delta});if(!window.cancelAnimationFrame)return window.cancelAnimationFrame=function(id){return clearTimeout(id)}}(),Random=function(min,max){return max==null&amp;&amp;(max=min,min=0),min+Math.random()*(max-min)},Random.int=function(min,max){return max==null&amp;&amp;(max=min,min=0),Math.floor(min+Math.random()*(max-min))},Random.sign=function(prob){return prob==null&amp;&amp;(prob=.5),Math.random()&lt;prob?1:-1},Random.bool=function(prob){return prob==null&amp;&amp;(prob=.5),Math.random()&lt;prob},Random.item=function(list){return list[Math.floor(Math.random()*list.length)]},Vector=function(){function Vector(x,y){this.x=x!=null?x:0,this.y=y!=null?y:0}return Vector.add=function(v1,v2){return new Vector(v1.x+v2.x,v1.y+v2.y)},Vector.sub=function(v1,v2){return new Vector(v1.x-v2.x,v1.y-v2.y)},Vector.project=function(v1,v2){return v1.clone().scale(v1.dot(v2)/v1.magSq())},Vector.prototype.set=function(x,y){return this.x=x,this.y=y,this},Vector.prototype.add=function(v){return this.x+=v.x,this.y+=v.y,this},Vector.prototype.sub=function(v){return this.x-=v.x,this.y-=v.y,this},Vector.prototype.scale=function(f){return this.x*=f,this.y*=f,this},Vector.prototype.dot=function(v){return this.x*v.x+this.y*v.y},Vector.prototype.cross=function(v){return this.x*v.y-this.y*v.x},Vector.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Vector.prototype.magSq=function(){return this.x*this.x+this.y*this.y},Vector.prototype.dist=function(v){var dx,dy;return dx=v.x-this.x,dy=v.y-this.y,Math.sqrt(dx*dx+dy*dy)},Vector.prototype.distSq=function(v){var dx,dy;return dx=v.x-this.x,dy=v.y-this.y,dx*dx+dy*dy},Vector.prototype.norm=function(){var m;return m=Math.sqrt(this.x*this.x+this.y*this.y),this.x/=m,this.y/=m,this},Vector.prototype.limit=function(l){var m,mSq;mSq=this.x*this.x+this.y*this.y;if(mSq&gt;l*l)return m=Math.sqrt(mSq),this.x/=m,this.y/=m,this.x*=l,this.y*=l,this},Vector.prototype.copy=function(v){return this.x=v.x,this.y=v.y,this},Vector.prototype.clone=function(){return new Vector(this.x,this.y)},Vector.prototype.clear=function(){return this.x=0,this.y=0,this},Vector}(),Particle=function(){function Particle(mass){this.mass=mass!=null?mass:1,this.id=&quot;p&quot;+Particle.GUID++,this.setMass(this.mass),this.setRadius(1),this.fixed=!1,this.behaviours=[],this.pos=new Vector,this.vel=new Vector,this.acc=new Vector,this.old={pos:new Vector,vel:new Vector,acc:new Vector}}return Particle.GUID=0,Particle.prototype.moveTo=function(pos){return this.pos.copy(pos),this.old.pos.copy(pos)},Particle.prototype.setMass=function(mass){return this.mass=mass!=null?mass:1,this.massInv=1/this.mass},Particle.prototype.setRadius=function(radius){return this.radius=radius!=null?radius:1,this.radiusSq=this.radius*this.radius},Particle.prototype.update=function(dt,index){var behaviour,_i,_len,_ref,_results;if(!this.fixed){_ref=this.behaviours,_results=[];for(_i=0,_len=_ref.length;_i&lt;_len;_i++)behaviour=_ref[_i],_results.push(behaviour.apply(this,dt,index));return _results}},Particle}(),Spring=function(){function Spring(p1,p2,restLength,stiffness){this.p1=p1,this.p2=p2,this.restLength=restLength!=null?restLength:100,this.stiffness=stiffness!=null?stiffness:1,this._delta=new Vector}return Spring.prototype.apply=function(){var dist,force;this._delta.copy(this.p2.pos).sub(this.p1.pos),dist=this._delta.mag()+1e-6,force=(dist-this.restLength)/(dist*(this.p1.massInv+this.p2.massInv))*this.stiffness,this.p1.fixed||this.p1.pos.add(this._delta.clone().scale(force*this.p1.massInv));if(!this.p2.fixed)return this.p2.pos.add(this._delta.scale(-force*this.p2.massInv))},Spring}(),Physics=function(){function Physics(integrator){this.integrator=integrator!=null?integrator:new Euler,this.timestep=1/60,this.viscosity=.005,this.behaviours=[],this._time=0,this._step=0,this._clock=null,this._buffer=0,this._maxSteps=4,this.particles=[],this.springs=[]}return Physics.prototype.integrate=function(dt){var behaviour,drag,index,particle,spring,_i,_j,_k,_len,_len1,_len2,_ref,_ref1,_ref2,_results;drag=1-this.viscosity,_ref=this.particles;for(index=_i=0,_len=_ref.length;_i&lt;_len;index=++_i){particle=_ref[index],_ref1=this.behaviours;for(_j=0,_len1=_ref1.length;_j&lt;_len1;_j++)behaviour=_ref1[_j],behaviour.apply(particle,dt,index);particle.update(dt,index)}this.integrator.integrate(this.particles,dt,drag),_ref2=this.springs,_results=[];for(_k=0,_len2=_ref2.length;_k&lt;_len2;_k++)spring=_ref2[_k],_results.push(spring.apply());return _results},Physics.prototype.step=function(){var delta,i,time,_ref;(_ref=this._clock)==null&amp;&amp;(this._clock=(new Date).getTime()),time=(new Date).getTime(),delta=time-this._clock;if(delta&lt;=0)return;delta*=.001,this._clock=time,this._buffer+=delta,i=0;while(this._buffer&gt;=this.timestep&amp;&amp;++i&lt;this._maxSteps)this.integrate(this.timestep),this._buffer-=this.timestep,this._time+=this.timestep;return this._step=(new Date).getTime()-time},Physics.prototype.destroy=function(){return this.integrator=null,this.particles=null,this.springs=null},Physics}(),Integrator=function(){function Integrator(){}return Integrator.prototype.integrate=function(particles,dt){},Integrator}(),Euler=function(_super){function Euler(){return Euler.__super__.constructor.apply(this,arguments)}return __extends(Euler,_super),Euler.prototype.integrate=function(particles,dt,drag){var p,vel,_i,_len,_results;vel=new Vector,_results=[];for(_i=0,_len=particles.length;_i&lt;_len;_i++){p=particles[_i];if(!!p.fixed)continue;p.old.pos.copy(p.pos),p.acc.scale(p.massInv),vel.copy(p.vel),p.vel.add(p.acc.scale(dt)),p.pos.add(vel.scale(dt)),drag&amp;&amp;p.vel.scale(drag),_results.push(p.acc.clear())}return _results},Euler}(Integrator),ImprovedEuler=function(_super){function ImprovedEuler(){return ImprovedEuler.__super__.constructor.apply(this,arguments)}return __extends(ImprovedEuler,_super),ImprovedEuler.prototype.integrate=function(particles,dt,drag){var acc,dtSq,p,vel,_i,_len,_results;acc=new Vector,vel=new Vector,dtSq=dt*dt,_results=[];for(_i=0,_len=particles.length;_i&lt;_len;_i++){p=particles[_i];if(!!p.fixed)continue;p.old.pos.copy(p.pos),p.acc.scale(p.massInv),vel.copy(p.vel),acc.copy(p.acc),p.pos.add(vel.scale(dt).add(acc.scale(.5*dtSq))),p.vel.add(p.acc.scale(dt)),drag&amp;&amp;p.vel.scale(drag),_results.push(p.acc.clear())}return _results},ImprovedEuler}(Integrator),Verlet=function(_super){function Verlet(){return Verlet.__super__.constructor.apply(this,arguments)}return __extends(Verlet,_super),Verlet.prototype.integrate=function(particles,dt,drag){var dtSq,p,pos,_i,_len,_results;pos=new Vector,dtSq=dt*dt,_results=[];for(_i=0,_len=particles.length;_i&lt;_len;_i++){p=particles[_i];if(!!p.fixed)continue;p.acc.scale(p.massInv),p.vel.copy(p.pos).sub(p.old.pos),drag&amp;&amp;p.vel.scale(drag),pos.copy(p.pos).add(p.vel.add(p.acc.scale(dtSq))),p.old.pos.copy(p.pos),p.pos.copy(pos),_results.push(p.acc.clear())}return _results},Verlet}(Integrator),Behaviour=function(){function Behaviour(){this.GUID=Behaviour.GUID++,this.interval=1}return Behaviour.GUID=0,Behaviour.prototype.apply=function(p,dt,index){var _name,_ref;return((_ref=p[_name=&quot;__behaviour&quot;+this.GUID])!=null?_ref:p[_name]={counter:0}).counter++},Behaviour}(),Attraction=function(_super){function Attraction(target,radius,strength){this.target=target!=null?target:new Vector,this.radius=radius!=null?radius:1e3,this.strength=strength!=null?strength:100,this._delta=new Vector,this.setRadius(this.radius),Attraction.__super__.constructor.apply(this,arguments)}return __extends(Attraction,_super),Attraction.prototype.setRadius=function(radius){return this.radius=radius,this.radiusSq=radius*radius},Attraction.prototype.apply=function(p,dt,index){var distSq;this._delta.copy(this.target).sub(p.pos),distSq=this._delta.magSq();if(distSq&lt;this.radiusSq&amp;&amp;distSq&gt;1e-6)return this._delta.norm().scale(1-distSq/this.radiusSq),p.acc.add(this._delta.scale(this.strength))},Attraction}(Behaviour),Collision=function(_super){function Collision(useMass,callback){this.useMass=useMass!=null?useMass:!0,this.callback=callback!=null?callback:null,this.pool=[],this._delta=new Vector,Collision.__super__.constructor.apply(this,arguments)}return __extends(Collision,_super),Collision.prototype.apply=function(p,dt,index){var dist,distSq,i,mt,o,overlap,r1,r2,radii,_i,_ref,_results;_results=[];for(i=_i=index,_ref=this.pool.length-1;index&lt;=_ref?_i&lt;=_ref:_i&gt;=_ref;i=index&lt;=_ref?++_i:--_i)o=this.pool[i],o!==p?(this._delta.copy(o.pos).sub(p.pos),distSq=this._delta.magSq(),radii=p.radius+o.radius,distSq&lt;=radii*radii?(dist=Math.sqrt(distSq),overlap=p.radius+o.radius-dist,overlap+=.5,mt=p.mass+o.mass,r1=this.useMass?o.mass/mt:.5,r2=this.useMass?p.mass/mt:.5,p.pos.add(this._delta.clone().norm().scale(overlap*-r1)),o.pos.add(this._delta.norm().scale(overlap*r2)),_results.push(typeof this.callback==&quot;function&quot;?this.callback(p,o,overlap):void 0)):_results.push(void 0)):_results.push(void 0);return _results},Collision}(Behaviour),ConstantForce=function(_super){function ConstantForce(force){this.force=force!=null?force:new Vector,ConstantForce.__super__.constructor.apply(this,arguments)}return __extends(ConstantForce,_super),ConstantForce.prototype.apply=function(p,dt,index){return p.acc.add(this.force)},ConstantForce}(Behaviour),EdgeBounce=function(_super){function EdgeBounce(min,max){this.min=min!=null?min:new Vector,this.max=max!=null?max:new Vector,EdgeBounce.__super__.constructor.apply(this,arguments)}return __extends(EdgeBounce,_super),EdgeBounce.prototype.apply=function(p,dt,index){p.pos.x-p.radius&lt;this.min.x?p.pos.x=this.min.x+p.radius:p.pos.x+p.radius&gt;this.max.x&amp;&amp;(p.pos.x=this.max.x-p.radius);if(p.pos.y-p.radius&lt;this.min.y)return p.pos.y=this.min.y+p.radius;if(p.pos.y+p.radius&gt;this.max.y)return p.pos.y=this.max.y-p.radius},EdgeBounce}(Behaviour),EdgeWrap=function(_super){function EdgeWrap(min,max){this.min=min!=null?min:new Vector,this.max=max!=null?max:new Vector,EdgeWrap.__super__.constructor.apply(this,arguments)}return __extends(EdgeWrap,_super),EdgeWrap.prototype.apply=function(p,dt,index){p.pos.x+p.radius&lt;this.min.x?(p.pos.x=this.max.x+p.radius,p.old.pos.x=p.pos.x):p.pos.x-p.radius&gt;this.max.x&amp;&amp;(p.pos.x=this.min.x-p.radius,p.old.pos.x=p.pos.x);if(p.pos.y+p.radius&lt;this.min.y)return p.pos.y=this.max.y+p.radius,p.old.pos.y=p.pos.y;if(p.pos.y-p.radius&gt;this.max.y)return p.pos.y=this.min.y-p.radius,p.old.pos.y=p.pos.y},EdgeWrap}(Behaviour),Wander=function(_super){function Wander(jitter,radius,strength){this.jitter=jitter!=null?jitter:.5,this.radius=radius!=null?radius:100,this.strength=strength!=null?strength:1,this.theta=Math.random()*Math.PI*2,Wander.__super__.constructor.apply(this,arguments)}return __extends(Wander,_super),Wander.prototype.apply=function(p,dt,index){return this.theta+=(Math.random()-.5)*this.jitter*Math.PI*2,p.acc.x+=Math.cos(this.theta)*this.radius*this.strength,p.acc.y+=Math.sin(this.theta)*this.radius*this.strength},Wander}(Behaviour)</div></pre></div>
          </td>
        </tr>
      </table>
  </div>

          </div>
        </div>

        <a href="#jump-to-line" rel="facebox" data-hotkey="l" class="js-jump-to-line" style="display:none">Jump to Line</a>
        <div id="jump-to-line" style="display:none">
          <h2>Jump to Line</h2>
          <form accept-charset="UTF-8" class="js-jump-to-line-form">
            <input class="textfield js-jump-to-line-field" type="text">
            <div class="full-button">
              <button type="submit" class="button">Go</button>
            </div>
          </form>
        </div>

      </div>
    </div>
</div>

<div id="js-frame-loading-template" class="frame frame-loading large-loading-area" style="display:none;">
  <img class="js-frame-loading-spinner" src="https://a248.e.akamai.net/assets.github.com/images/spinners/octocat-spinner-128.gif?1347543527" height="64" width="64">
</div>


        </div>
      </div>
      <div class="context-overlay"></div>
    </div>

      <div id="footer-push"></div><!-- hack for sticky footer -->
    </div><!-- end of wrapper - hack for sticky footer -->

      <!-- footer -->
      <div id="footer">
  <div class="container clearfix">

      <dl class="footer_nav">
        <dt>GitHub</dt>
        <dd><a href="https://github.com/about">About us</a></dd>
        <dd><a href="https://github.com/blog">Blog</a></dd>
        <dd><a href="https://github.com/contact">Contact &amp; support</a></dd>
        <dd><a href="http://enterprise.github.com/">GitHub Enterprise</a></dd>
        <dd><a href="http://status.github.com/">Site status</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Applications</dt>
        <dd><a href="http://mac.github.com/">GitHub for Mac</a></dd>
        <dd><a href="http://windows.github.com/">GitHub for Windows</a></dd>
        <dd><a href="http://eclipse.github.com/">GitHub for Eclipse</a></dd>
        <dd><a href="http://mobile.github.com/">GitHub mobile apps</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Services</dt>
        <dd><a href="http://get.gaug.es/">Gauges: Web analytics</a></dd>
        <dd><a href="http://speakerdeck.com">Speaker Deck: Presentations</a></dd>
        <dd><a href="https://gist.github.com">Gist: Code snippets</a></dd>
        <dd><a href="http://jobs.github.com/">Job board</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Documentation</dt>
        <dd><a href="http://help.github.com/">GitHub Help</a></dd>
        <dd><a href="http://developer.github.com/">Developer API</a></dd>
        <dd><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></dd>
        <dd><a href="http://pages.github.com/">GitHub Pages</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>More</dt>
        <dd><a href="http://training.github.com/">Training</a></dd>
        <dd><a href="https://github.com/edu">Students &amp; teachers</a></dd>
        <dd><a href="http://shop.github.com">The Shop</a></dd>
        <dd><a href="/plans">Plans &amp; pricing</a></dd>
        <dd><a href="http://octodex.github.com/">The Octodex</a></dd>
      </dl>

      <hr class="footer-divider">


    <p class="right">&copy; 2013 <span title="0.05900s from fe2.rs.github.com">GitHub</span>, Inc. All rights reserved.</p>
    <a class="left" href="https://github.com/">
      <span class="mega-icon mega-icon-invertocat"></span>
    </a>
    <ul id="legal">
        <li><a href="https://github.com/site/terms">Terms of Service</a></li>
        <li><a href="https://github.com/site/privacy">Privacy</a></li>
        <li><a href="https://github.com/security">Security</a></li>
    </ul>

  </div><!-- /.container -->

</div><!-- /.#footer -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
          <div class="suggester-container">
              <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester"
                 data-url="/soulwire/Coffee-Physics/suggestions/commit">
              </div>
          </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped leftwards" title="Exit Zen Mode">
      <span class="mega-icon mega-icon-normalscreen"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped leftwards"
      title="Switch themes">
      <span class="mini-icon mini-icon-brightness"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="mini-icon mini-icon-exclamation"></span>
      Something went wrong with that request. Please try again.
      <a href="#" class="mini-icon mini-icon-remove-close ajax-error-dismiss"></a>
    </div>

    
    
    <span id='server_response_time' data-time='0.05945' data-host='fe2'></span>
    
  </body>
</html>

